{
  "GtiSimulationOptions": {
    "type": "object",
    "properties": {
      "includeDatetime": {
        "type": "boolean"
      },
      "includeSunPos": {
        "type": "boolean"
      },
      "includeAlbedo": {
        "type": "boolean"
      },
      "includeInputIrrads": {
        "type": "boolean"
      },
      "includeInputIrradsShaded": {
        "type": "boolean"
      },
      "includePanelIncAngle": {
        "type": "boolean"
      },
      "includePanelOrientation": {
        "type": "boolean"
      },
      "includeGti": {
        "type": "boolean"
      },
      "includeGtiShaded": {
        "type": "boolean"
      },
      "includeGtiComponents": {
        "type": "boolean"
      },
      "includeGtiComponentsShaded": {
        "type": "boolean"
      },
      "includeGtiEffective": {
        "type": "boolean"
      },
      "includeGtiEffectiveShaded": {
        "type": "boolean"
      }
    },
    "additionalProperties": ""
  },
  "DegreesHorizonAzimuth": {
    "type": "number",
    "minimum": 0,
    "maximum": 360
  },
  "DegreesHorizonHeight": {
    "type": "number",
    "minimum": 0,
    "maximum": 90
  },
  "HorizonElement": {
    "type": "object",
    "properties": {
      "azimuth": {
        "$ref": "#/components/schemas/DegreesHorizonAzimuth"
      },
      "height": {
        "$ref": "#/components/schemas/DegreesHorizonHeight"
      }
    },
    "required": [
      "azimuth",
      "height"
    ]
  },
  "Horizon": {
    "type": "array",
    "items": {
      "$ref": "#/components/schemas/HorizonElement"
    }
  },
  "DateTimeISO8601": {
    "type": "string",
    "format": "date-time"
  },
  "GtiSimulationInput": {
    "type": "object",
    "properties": {
      "horizon": {
        "$ref": "#/components/schemas/Horizon"
      },
      "datetime": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/DateTimeISO8601"
        }
      },
      "sun_azimuth": {
        "type": "array",
        "items": {
          "type": "number",
          "minimum": -360,
          "maximum": 360
        }
      },
      "sun_elevation": {
        "type": "array",
        "items": {
          "type": "number",
          "minimum": -90,
          "maximum": 90
        }
      },
      "ghi": {
        "type": "array",
        "items": {
          "type": "number",
          "minimum": 0
        }
      },
      "dni": {
        "type": "array",
        "items": {
          "type": "number",
          "minimum": 0
        }
      },
      "albedo": {
        "type": "array",
        "items": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        }
      },
      "panel_azimuth": {
        "type": "array",
        "items": {
          "type": "number"
        }
      },
      "panel_tilt": {
        "type": "array",
        "items": {
          "type": "number"
        }
      }
    },
    "required": [
      "sun_azimuth",
      "sun_elevation"
    ],
    "additionalProperties": ""
  },
  "MonthDay": {
    "type": "string",
    "pattern": "^\\d{2}-\\d{2}$"
  },
  "GtiDegreesMountingTilt": {
    "type": "number",
    "minimum": 0,
    "maximum": 90
  },
  "GtiMonthlyValuesDegreesMountingTilt": {
    "type": "array",
    "items": {
      "$ref": "#/components/schemas/GtiDegreesMountingTilt"
    },
    "minItems": 12,
    "maxItems": 12
  },
  "GtiSeasonalDegreesMountingTilt": {
    "type": "array",
    "items": {
      "type": "object",
      "properties": {
        "dateOfChange": {
          "$ref": "#/components/schemas/MonthDay"
        },
        "tilt": {
          "$ref": "#/components/schemas/GtiDegreesMountingTilt"
        }
      },
      "required": [
        "dateOfChange",
        "tilt"
      ]
    }
  },
  "GtiDegreesRotationLimitEastHorizontalInclinedTracker": {
    "type": "number",
    "minimum": -90,
    "maximum": 90
  },
  "GtiDegreesRotationLimitWestHorizontalInclinedTracker": {
    "type": "number",
    "minimum": -90,
    "maximum": 90
  },
  "GtiDegreesRotationLimitEastVerticalTwoAxisTracker": {
    "type": "number",
    "minimum": -180,
    "maximum": 180
  },
  "GtiDegreesRotationLimitWestVerticalTwoAxisTracker": {
    "type": "number",
    "minimum": -180,
    "maximum": 180
  },
  "GtiMountingFixedOneAngle": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "FIXED_ONE_ANGLE"
        ]
      },
      "tilt": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/GtiDegreesMountingTilt"
          },
          {
            "$ref": "#/components/schemas/GtiMonthlyValuesDegreesMountingTilt"
          },
          {
            "$ref": "#/components/schemas/GtiSeasonalDegreesMountingTilt"
          }
        ]
      }
    },
    "required": [
      "type",
      "tilt"
    ],
    "additionalProperties": ""
  },
  "GtiMountingOneAxisHorizontalTrackerNS": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "ONE_AXIS_HORIZONTAL_TRACKER_NS"
        ]
      },
      "backtracking": {
        "type": "boolean"
      },
      "rotationLimitEast": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitEastHorizontalInclinedTracker"
      },
      "rotationLimitWest": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitWestHorizontalInclinedTracker"
      }
    },
    "required": [
      "type",
      "backtracking",
      "rotationLimitEast",
      "rotationLimitWest"
    ],
    "additionalProperties": ""
  },
  "GtiMountingOneAxisInclinedTrackerNS": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "ONE_AXIS_INCLINED_TRACKER_NS"
        ]
      },
      "axisTilt": {
        "$ref": "#/components/schemas/GtiDegreesMountingTilt"
      },
      "backtracking": {
        "type": "boolean"
      },
      "rotationLimitEast": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitEastHorizontalInclinedTracker"
      },
      "rotationLimitWest": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitWestHorizontalInclinedTracker"
      }
    },
    "required": [
      "axisTilt",
      "type",
      "backtracking",
      "rotationLimitEast",
      "rotationLimitWest"
    ],
    "additionalProperties": ""
  },
  "GtiMountingOneAxisVerticalTracker": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "ONE_AXIS_VERTICAL_TRACKER"
        ]
      },
      "tilt": {
        "$ref": "#/components/schemas/GtiDegreesMountingTilt"
      },
      "rotationLimitEast": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitEastVerticalTwoAxisTracker"
      },
      "rotationLimitWest": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitWestVerticalTwoAxisTracker"
      }
    },
    "required": [
      "type",
      "tilt",
      "rotationLimitEast",
      "rotationLimitWest"
    ],
    "additionalProperties": ""
  },
  "GtiMountingTwoAxisAstronomicalTracker": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "TWO_AXIS_ASTRONOMICAL_TRACKER"
        ]
      },
      "tiltLimitMin": {
        "$ref": "#/components/schemas/GtiDegreesMountingTilt"
      },
      "tiltLimitMax": {
        "$ref": "#/components/schemas/GtiDegreesMountingTilt"
      },
      "rotationLimitEast": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitEastVerticalTwoAxisTracker"
      },
      "rotationLimitWest": {
        "$ref": "#/components/schemas/GtiDegreesRotationLimitWestVerticalTwoAxisTracker"
      },
      "backtracking": {
        "type": "boolean"
      }
    },
    "required": [
      "type",
      "tiltLimitMin",
      "tiltLimitMax",
      "rotationLimitEast",
      "rotationLimitWest",
      "backtracking"
    ],
    "additionalProperties": ""
  },
  "GtiMountingTimeSeriesTracker": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "TIME_SERIES_TRACKER"
        ]
      }
    },
    "required": [
      "type"
    ],
    "additionalProperties": ""
  },
  "GtiMounting": {
    "oneOf": [
      {
        "$ref": "#/components/schemas/GtiMountingFixedOneAngle"
      },
      {
        "$ref": "#/components/schemas/GtiMountingOneAxisHorizontalTrackerNS"
      },
      {
        "$ref": "#/components/schemas/GtiMountingOneAxisInclinedTrackerNS"
      },
      {
        "$ref": "#/components/schemas/GtiMountingOneAxisVerticalTracker"
      },
      {
        "$ref": "#/components/schemas/GtiMountingTwoAxisAstronomicalTracker"
      },
      {
        "$ref": "#/components/schemas/GtiMountingTimeSeriesTracker"
      }
    ]
  },
  "GtiSystemLayout": {
    "type": "object",
    "properties": {
      "isSouthernHemisphere": {
        "type": "boolean"
      },
      "azimuth": {
        "type": "number",
        "minimum": 0,
        "maximum": 360
      },
      "relativeSpacing": {
        "type": "number",
        "minimum": 0.1
      },
      "mounting": {
        "$ref": "#/components/schemas/GtiMounting"
      }
    },
    "required": [
      "isSouthernHemisphere",
      "mounting"
    ],
    "additionalProperties": ""
  },
  "NormalizedPercentage": {
    "type": "number",
    "minimum": 0,
    "maximum": 1
  },
  "MonthlyValuesNormalizedPercentage": {
    "type": "array",
    "items": {
      "$ref": "#/components/schemas/NormalizedPercentage"
    },
    "minItems": 12,
    "maxItems": 12
  },
  "GtiEnvironment": {
    "type": "object",
    "properties": {
      "terrainAlbedo": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/NormalizedPercentage"
          },
          {
            "$ref": "#/components/schemas/MonthlyValuesNormalizedPercentage"
          }
        ]
      },
      "horizon": {
        "$ref": "#/components/schemas/Horizon"
      }
    }
  },
  "GtiSystem": {
    "type": "object",
    "properties": {
      "layout": {
        "$ref": "#/components/schemas/GtiSystemLayout"
      },
      "environment": {
        "$ref": "#/components/schemas/GtiEnvironment"
      }
    }
  },
  "GtiSkyModelType": {
    "type": "string",
    "enum": [
      "ISOTROPIC",
      "ANISOTROPIC"
    ]
  },
  "GtiProcessingOptions": {
    "type": "object",
    "properties": {
      "nCpuThreads": {
        "type": "integer",
        "minimum": 1
      },
      "skyModelType": {
        "$ref": "#/components/schemas/GtiSkyModelType"
      },
      "nHorizShadingAzimSteps": {
        "type": "integer",
        "minimum": 1
      },
      "nHorizShadingHeightSteps": {
        "type": "integer",
        "minimum": 1
      },
      "nHorizBeltShadingSteps": {
        "type": "integer",
        "minimum": 1
      },
      "angularReflectivity": {
        "type": "number",
        "minimum": 0,
        "maximum": 1
      }
    }
  },
  "GtiSimulationRequest": {
    "type": "object",
    "properties": {
      "input": {
        "$ref": "#/components/schemas/GtiSimulationInput"
      },
      "options": {
        "$ref": "#/components/schemas/GtiSimulationOptions"
      },
      "processing": {
        "$ref": "#/components/schemas/GtiProcessingOptions"
      },
      "system": {
        "$ref": "#/components/schemas/GtiSystem"
      }
    }
  }
}